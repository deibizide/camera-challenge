(this["webpackJsonpcamera-challenge"]=this["webpackJsonpcamera-challenge"]||[]).push([[0],{16:function(e,t,a){e.exports=a(31)},21:function(e,t,a){},22:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(13),i=a.n(r),o=(a(21),a(6)),s=(a(22),a(14)),l=a(15),m=a(7),u=a(8),d=a(9),f=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(!1),s=Object(o.a)(i,2),l=s[0],m=s[1],u=Object(n.useState)(!1),d=Object(o.a)(u,2),f=d[0],v=d[1],g=e.videoRef,E=e.canvasRef,h=0,b={video:{facingMode:"",width:{min:1280,ideal:1920,max:2560},height:{min:720,ideal:1080,max:1440}}};return Object(n.useEffect)((function(){navigator&&navigator.mediaDevices||console.log("Camera API is not available in your browser"),navigator.mediaDevices.getUserMedia(b).then((function(e){g.current.srcObject=e,g.current.play()})).catch((function(e){alert("An error occurred: ".concat(e))})),g.current.addEventListener("canplay",(function(){l||(h=g.current.videoHeight/(g.current.videoWidth/320),m(!1))}))}),[]),{getPicture:function(){E.current.getContext("2d").drawImage(g.current,0,0,320,h);var e=E.current.toDataURL("image/png");r(e)},imageSrc:c,switchCamera:function(){v(!f),b.video.facingMode=f?"user":"environment"}}},v=(a(28),function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null),a=f({canvasRef:e,videoRef:t}),r=a.getPicture,i=a.switchCamera;return c.a.createElement(s.a,{className:"take-picture__container"},c.a.createElement("video",{ref:t,className:"w-100 mt-5"},c.a.createElement("track",{default:!0,kind:"captions",srcLang:"en"})),c.a.createElement("div",{className:"text-center my-5"},c.a.createElement("p",{className:""},"Press the button to preview the image"),c.a.createElement(l.a,{className:"d-flex justify-content-center row"},c.a.createElement(m.a,{variant:"info",className:"btn mx-3",onClick:function(){return r()}},c.a.createElement(u.a,{icon:d.a})),c.a.createElement(m.a,{variant:"info",className:"btn d-flex align-items-center mx-3",onClick:function(){return i()}},c.a.createElement(u.a,{icon:d.c}),c.a.createElement("p",{className:"m-0 px-3"},"Switch Camera")))),c.a.createElement("h2",{className:"text-center m-0"},"Preview Image"),c.a.createElement("div",{className:"text-center d-flex flex-column"},c.a.createElement("canvas",{ref:e,className:"w-100 mb-5"}),c.a.createElement(m.a,{variant:"info",className:"btn d-flex align-items-center justify-content-center mx-3",onClick:r},c.a.createElement("p",{className:"m-0 px-3"},"Send"),c.a.createElement(u.a,{icon:d.b}))))}),g=(a(29),function(e){var t=e.isUserReady,a=e.setIsUserReady;return c.a.createElement("div",{className:"home d-flex justify-content-center align-items-center flex-column"},c.a.createElement("h5",{className:"text-center pb-5"},"Do you want to send an image to your landlord?"),c.a.createElement(m.a,{variant:"info",onClick:function(){return a(!t)}},"Yes"))}),E=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1];return c.a.createElement("div",{className:"main"},a?c.a.createElement(v,null):c.a.createElement(g,{setIsUserReady:r,isUserReady:a}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(30);i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.b3e242d1.chunk.js.map