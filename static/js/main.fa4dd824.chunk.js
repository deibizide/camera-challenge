(this["webpackJsonpcamera-challenge"]=this["webpackJsonpcamera-challenge"]||[]).push([[0],{16:function(e,t,a){e.exports=a(30)},21:function(e,t,a){},22:function(e,t,a){},28:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(13),i=a.n(r),o=(a(21),a(22),a(14)),l=a(15),s=a(8),m=a(6),u=a(7),f=a(11),d=function(e){var t=Object(n.useState)(""),a=Object(f.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(!1),o=Object(f.a)(i,2),l=o[0],s=o[1],m=e.videoRef,u=e.canvasRef,d=0,v={video:{width:{min:1280,ideal:1920,max:2560},height:{min:720,ideal:1080,max:1440}}};return Object(n.useEffect)((function(){navigator&&navigator.mediaDevices||console.log("Camera API is not available in your browser"),navigator.mediaDevices.getUserMedia(v).then((function(e){m.current.srcObject=e,m.current.play()})).catch((function(e){console.log("An error occurred: ".concat(e))})),m.current.addEventListener("canplay",(function(){l||(d=m.current.videoHeight/(m.current.videoWidth/320),s(!1))}))}),[]),{getPicture:function(){u.current.getContext("2d").drawImage(m.current,0,0,320,d);var e=u.current.toDataURL("image/png");r(e)},imageSrc:c}},v=(a(28),function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null),a=d({canvasRef:e,videoRef:t}).getPicture;return c.a.createElement(o.a,{className:"take-picture__container"},c.a.createElement("video",{ref:t,className:"w-100 mt-5"},c.a.createElement("track",{default:!0,kind:"captions",srcLang:"en"})),c.a.createElement("div",{className:"text-center my-5"},c.a.createElement("p",{className:""},"Press the button to preview the image"),c.a.createElement(l.a,{className:"d-flex justify-content-center row"},c.a.createElement(s.a,{variant:"info",className:"btn mx-3",onClick:function(){return a()}},c.a.createElement(m.a,{icon:u.a})),c.a.createElement(s.a,{variant:"info",className:"btn d-flex align-items-center mx-3",onClick:a},c.a.createElement(m.a,{icon:u.c}),c.a.createElement("p",{className:"m-0 px-3"},"Switch Camera")))),c.a.createElement("h2",{className:"text-center m-0"},"Preview Image"),c.a.createElement("div",{className:"text-center d-flex flex-column"},c.a.createElement("canvas",{ref:e,className:"w-100 mb-5"}),c.a.createElement(s.a,{variant:"info",className:"btn d-flex align-items-center justify-content-center mx-3",onClick:a},c.a.createElement("p",{className:"m-0 px-3"},"Send"),c.a.createElement(m.a,{icon:u.b}))))}),g=function(){return c.a.createElement("div",{className:"main"},c.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(29);i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.fa4dd824.chunk.js.map